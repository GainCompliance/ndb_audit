language: python
cache:
  directories:
  - "$HOME/google-cloud-sdk/"
env:
- PATH=$PATH:${HOME}/google-cloud-sdk/bin GAE_PYTHONPATH=${HOME}/google-cloud-sdk/platform/google_appengine CLOUDSDK_CORE_DISABLE_PROMPTS=1
before_install:
- if [ ! -d ${HOME}/google-cloud-sdk/bin ]; then
     rm -rf ${HOME}/google-cloud-sdk;
     curl https://sdk.cloud.google.com | bash;
     gcloud --version;
     gcloud -q components install app-engine-python;
  fi
install:
# print version for troubleshooting
- gcloud --version
# Install the Python dependencies
- pip install -r requirements-dev.txt
script:
- nosetests . --with-gae --gae-lib-root=${GAE_PYTHONPATH}
notifications:
  email: false
  slack:
    secure: VJfbgnzAwFlAITf3ER/4hVW1cA0XVkp5kAdqSETL2h4jU10PU/UFWB00X/SXIJZSM7XLcAO2hV9jIXnqKbfsDtosIJymC0qR4OX3CY3u+4NnEcWLEaQqJgtqRpa0Olrn6OHlb2Hek0Gl3xBzGuWxXLwqLaeeO9SYoWFcjphu6leC/CkvCIiaXp0rh/t0wixAGfPMhqlgyd08ew9PPJAhATjyDKZilP0hxMwJNkeA18tNJearYaGyY7oUqXYs01kEfEFAO66sHG64SBW0mH02sLiYvo7IGCWUEuvQVlqXtaB3/WOcN2lsQ9kAxaAFOiIutgoWcZ3Np2kMhZUJn0k0oOfb94io6hHr5fE0Kxqcppz04P+Z0iWMGOqgazAeC4SZKeIsnInDDcESOlf1pxPXEsmgtjISeAhdZYUp6QtKXdOnP74EbCheLBofVrAFplrsWvouGfcP2DOkPdPJz/X1YZk4+8toIhSnVA3412JI2px4tTld1ph3kncj+rYCvg3A0pO7ir2sICGPaUoYaoXxUpPzPtsfG9cqmDJ8zeLdOC9+vTQeOaiYx+/MlaPJBC3CvOIBRd2J8ynjexzk6B0p58ALyt6jx6A9lH0yciltD4LGrzkBItmEi25t77t9nY8qcto3TsaRqjmn4SG7jJCOIvyTV8kSKYV3PQUgDVh719Q=

